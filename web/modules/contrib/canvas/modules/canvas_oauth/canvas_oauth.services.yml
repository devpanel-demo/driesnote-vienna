services:
  _defaults:
    autowire: true
  Drupal\canvas_oauth\Routing\CanvasOauthRouteSubscriber:
    tags:
      - { name: event_subscriber }
  Drupal\canvas_oauth\Authentication\Provider\CanvasOauthAuthenticationProvider:
    arguments: ['@simple_oauth.authentication.simple_oauth']
    tags:
      # The `oauth2` provider by the Simple OAuth module uses a priority of 35.
      # Setting our module's priority higher ensures our provider is called
      # before that. Otherwise `oauth2` would apply itself, because it's a global
      # authentication provider.
      - { name: authentication_provider, provider_id: canvas_oauth, priority: 40 }
